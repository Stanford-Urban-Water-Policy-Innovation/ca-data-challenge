// C3 init

var agency_names = ['Alameda County Water District','Alco Water Service','Alhambra  City of','Amador Water Agency','American Canyon City of','Anaheim  City of','Anderson City of','Antioch  City of','Apple Valley Ranchos Water Company','Arcadia  City of','Arcata  City of','Arroyo Grande  City of','Arvin Community Services District','Atascadero Mutual Water Company','Atwater  City of','Azusa  City of','Bakersfield  City of','Bakman Water Company','Banning  City of','Beaumont-Cherry Valley Water District','Bella Vista Water District','Bellflower-Somerset Mutual Water Company','Benicia  City of','Beverly Hills  City of','Big Bear City Community Services District','Blythe  City of','Brawley  City of','Brea  City of','Brentwood  City of','Buena Park  City of','Burbank  City of','Burlingame  City of','Calaveras County Water District','Calexico  City of','California City  City of','California Water Service Company Antelope Valley','California Water Service Company Bakersfield','California Water Service Company Bear Gulch','California Water Service Company Chico District','California Water Service Company Dixon City of','California Water Service Company Dominguez','California Water Service Company East Los Angeles','California Water Service Company Hermosa/Redondo','California Water Service Company Kern River Valley','California Water Service Company King City','California Water Service Company Livermore','California Water Service Company Los Altos/Suburban','California Water Service Company Marysville','California Water Service Company Mid Peninsula','California Water Service Company Oroville','California Water Service Company Palos Verdes','California Water Service Company Redwood Valley','California Water Service Company Salinas District','California Water Service Company Selma','California Water Service Company South San Francisco','California Water Service Company Stockton','California Water Service Company Visalia','California Water Service Company Westlake','California Water Service Company Willows','California-American Water Company Los Angeles District','California-American Water Company Monterey District','California-American Water Company Sacramento District','California-American Water Company San Diego District','California-American Water Ventura District','Camarillo  City of','Cambria Community Services District','Camrosa Water District','Carlsbad Municipal Water District','Carmichael Water District','Carpinteria Valley Water District','Casitas Municipal Water District','Castaic Lake Water Agency Santa Clarita Water Division','Ceres  City of','Cerritos  City of','Chino  City of','Chino Hills  City of','Citrus Heights Water District','City of Big Bear Lake Dept of Water & Power','City of Newman Water Department','Clovis  City of','Coachella  City of','Coachella Valley Water District','Coalinga City of','Coastside County Water District',"'Colton, City of'",'Compton  City of','Contra Costa Water District','Corcoran City of','Corona  City of','Covina  City of ','Crescent City  City of','Crescenta Valley Water District','Crestline Village Water District','Cucamonga Valley Water District','Daly City  City of','Davis  City of','Del Oro Water Company','Delano  City of','Desert Water Agency','Diablo Water District','Dinuba  City of','Discovery Bay Community Services District','Downey  City of','Dublin San Ramon Services District','East Bay Municipal Utilities District','East Niles Community Service District','East Orange County Water District','East Palo Alto City of','East Valley Water District','Eastern Municipal Water District','El Centro  City of','El Dorado Irrigation District','El Monte  City of','El Segundo  City of','El Toro Water District','Elk Grove Water Service','Elsinore Valley Municipal Water District','Escondido  City of','Estero Municipal Improvement District','Eureka  City of','Exeter  City of','Fair Oaks Water District','Fairfield  City of','Fallbrook Public Utility District','Fillmore  City of','Folsom  City of','Fortuna  City of','Fountain Valley  City of','Fresno  City of','Fruitridge Vista Water Company','Fullerton  City of','Galt  City of','Garden Grove  City of','Georgetown Divide Public Utilities District','Gilroy  City of','Glendale  City of','Glendora  City of','Golden State Water Company Artesia','Golden State Water Company Barstow','Golden State Water Company Bay Point','Golden State Water Company Bell-Bell Gardens','Golden State Water Company Claremont','Golden State Water Company Cordova','Golden State Water Company Culver City','Golden State Water Company Florence Graham','Golden State Water Company Norwalk','Golden State Water Company Orcutt','Golden State Water Company Placentia','Golden State Water Company S Arcadia','Golden State Water Company S San Gabriel','Golden State Water Company San Dimas','Golden State Water Company Simi Valley','Golden State Water Company Southwest','Golden State Water Company West Orange','Goleta Water District','Great Oaks Water Company Incorporated','Greenfield City of','Groveland Community Services District','Grover Beach  City of','Hanford  City of','Hawthorne  City of','Hayward  City of','Healdsburg  City of','Helix Water District','Hemet  City of','Hesperia Water District City of','Hi-Desert Water District','Hillsborough  Town of','Hollister  City of','Humboldt Bay Municipal Water District','Humboldt Community Service District','Huntington Beach  City of','Huntington Park  City of',"'Imperial, City of'",'Indian Wells Valley Water District','Indio  City of','Inglewood  City of','Irvine Ranch Water District','Joshua Basin Water District','Jurupa Community Service District',"'Kerman, City of'","'Kingsburg, City of'",'La Habra  City of Public Works','La Palma  City of','La Verne  City of','Laguna Beach County Water District','Lake Arrowhead Community Services District','Lake Hemet Municipal Water District','Lakeside Water District','Lakewood  City of','Lamont Public Utility District','Las Virgenes Municipal Water District','Lathrop City of','Lee Lake Water District','Lemoore  City of','Lincoln  City of','Lincoln Avenue Water Company','Linda County Water District','Livermore  City of Division of Water Resources','Livingston  City of','Lodi  City of Public Works Department','Loma Linda  City of','Lomita  City of','Lompoc  City of','Long Beach  City of','Los Angeles County Public Works Waterworks District 29','Los Angeles County Public Works Waterworks District 40','Los Angeles Department of Water and Power','Los Banos City of','Lynwood  City of','Madera  City of','Mammoth Community Water District','Manhattan Beach  City of','Manteca  City of','Marin Municipal Water District','Marina Coast Water District','Martinez  City of','McKinleyville Community Service District','Menlo Park  City of','Merced  City of','Mesa Water District','Mid-Peninsula Water District','Millbrae  City of','Milpitas  City of','Mission Springs Water District','Modesto City of','Monrovia  City of','Monte Vista Water District','Montebello Land and Water Company','Montecito Water District','Monterey Park  City of','Morgan Hill  City of','Morro Bay  City of','Moulton Niguel Water District','Mountain House Community Services District','Mountain View  City of','Myoma Dunes Mutual Water Company','Napa  City of','Nevada Irrigation District','Newhall County Water District','Newport Beach  City of','Nipomo Community Services District','Norco  City of','North Coast County Water District','North Marin Water District','North Tahoe Public Utility District','Norwalk City of','Oakdale  City of','Oceanside  City of','Oildale Mutual Water Company','Olivehurst Public Utility District','Olivenhain Municipal Water District','Ontario  City of','Orange  City of','Orange Vale Water Company','Orchard Dale Water District','Otay Water District','Oxnard  City of','Padre Dam Municipal Water District','Palmdale Water District','Palo Alto  City of','Paradise Irrigation District','Paramount  City of','Park Water Company','Pasadena  City of','Paso Robles  City of','Patterson  City of','Perris City of','Petaluma  City of','Phelan Pinon Hills Community Services District','Pico Rivera  City of','Pico Water District','Pinedale County Water District','Pismo Beach  City of','Pittsburg  City of','Placer County Water Agency','Pleasanton  City of','Pomona  City of','Port Hueneme  City of','Porterville  City of','Poway  City of','Quartz Hill Water District','Rainbow Municipal Water District','Ramona Municipal Water District','Rancho California Water District','Red Bluff  City of','Redding  City of','Redlands  City of','Redwood City  City of','Reedley  City of','Rialto  City of','Rincon Del Diablo Municipal Water District','Rio Linda - Elverta Community Water District','Rio Vista city of','Ripon  City of','Riverbank  City of','Riverside  City of','Riverside Highland Water Company','Rohnert Park  City of','Rosamond Community Service District','Roseville  City of','Rowland Water District','Rubidoux Community Service District','Rubio Canyon Land and Water Association','Sacramento  City of','Sacramento County Water Agency','Sacramento Suburban Water District','San Bernardino  City of','San Bernardino County Service Area 64','San Bernardino County Service Area 70J','San Bruno  City of','San Buenaventura  City of','San Clemente  City of','San Diego  City of','San Dieguito Water District','San Fernando  City of','San Francisco Public Utilities Commission','San Gabriel County Water District','San Gabriel Valley Fontana Water Company','San Gabriel Valley Water Company','San Jacinto  City of','San Jose  City of','San Jose Water Company','San Juan Capistrano  City of','San Juan Water District','San Lorenzo Valley Water District','San Luis Obispo  City of','Sanger  City of','Santa Ana  City of','Santa Barbara  City of','Santa Clara  City of','Santa Cruz  City of','Santa Fe Irrigation District','Santa Fe Springs  City of','Santa Margarita Water District','Santa Maria  City of','Santa Monica  City of','Santa Paula  City of','Santa Rosa  City of',
'Scotts Valley Water District','Seal Beach  City of','Shafter  City of','Sierra Madre  City of','Soledad, City of','Sonoma  City of','Soquel Creek Water District','South Coast Water District','South Feather Water and Power Agency','South Gate  City of','South Pasadena  City of','South Tahoe Public Utilities District','Stockton  City of','Suburban Water Systems San Jose Hills','Suburban Water Systems Whittier/La Mirada','Suisun-Solano Water Authority','Sunny Slope Water Company','Sunnyslope County Water District','Sunnyvale  City of','Susanville  City of','Sweetwater Authority','Sweetwater Springs Water District','Tahoe City Public Utilities District',"'Tehachapi, City of'",'Thousand Oaks  City of','Torrance  City of','Trabuco Canyon Water District','Tracy  City of','Triunfo Sanitation District / Oak Park Water Service','Truckee-Donner Public Utilities District','Tulare City of','Tuolumne Utilities District','Turlock  City of','Tustin  City of','Twentynine Palms Water District','Ukiah  City of','Upland  City of','Vacaville  City of','Valencia Water Company','Vallecitos Water District','Vallejo  City of','Valley Center Municipal Water District','Valley County Water District','Valley Water Company','Valley of the Moon Water District','Vaughn Water Company','Ventura County Waterworks District No 1','Ventura County Waterworks District No. 8','Vernon  City of','Victorville Water District','Vista Irrigation District','Walnut Valley Water District','Wasco  City of','Watsonville  City of','West Kern Water District','West Sacramento  City of','West Valley Water District','Westborough Water District','Western Municipal Water District of Riverside','Westminster  City of','Whittier  City of','Windsor Town of','Woodland  City of','Yorba Linda Water District','Yreka City of','Yuba City  City of','Yucaipa Valley Water District'];

var region = ['San Francisco Bay','Central Coast','South Coast','San Joaquin River','San Francisco Bay','South Coast','Sacramento River','San Joaquin River','South Lahontan','South Coast','North Coast','Central Coast','Tulare Lake','Central Coast','San Joaquin River','South Coast','Tulare Lake','Tulare Lake','Colorado River','South Coast','Sacramento River','South Coast','San Francisco Bay','South Coast','South Coast','Colorado River','Colorado River','South Coast','San Joaquin River','South Coast','South Coast','San Francisco Bay','San Joaquin River','Colorado River','South Lahontan','South Lahontan','Tulare Lake','San Francisco Bay','Sacramento River','Sacramento River','South Coast','South Coast','South Coast','Tulare Lake','Central Coast','San Francisco Bay','San Francisco Bay','Sacramento River','San Francisco Bay','Sacramento River','South Coast','North Coast','Central Coast','Tulare Lake','San Francisco Bay','San Joaquin River','Tulare Lake','South Coast','Sacramento River','South Coast','Central Coast','Sacramento River','South Coast','South Coast','South Coast','Central Coast','South Coast','South Coast','Sacramento River','Central Coast','South Coast','South Coast','San Joaquin River','South Coast','South Coast','South Coast','Sacramento River','South Coast','San Joaquin River','Tulare Lake','Colorado River','Colorado River','Tulare Lake','San Francisco Bay','South Coast','South Coast','San Francisco Bay','Tulare Lake','South Coast','South Coast','North Coast','South Coast','South Lahontan','South Coast','San Francisco Bay','Sacramento River','Sacramento River','Tulare Lake','Colorado River','San Joaquin River','Tulare Lake','San Joaquin River','South Coast','San Francisco Bay','San Francisco Bay','Tulare Lake','South Coast','San Francisco Bay','South Coast','South Coast','Colorado River','Sacramento River','South Coast','South Coast','South Coast','Sacramento River','South Coast','South Coast','San Francisco Bay','North Coast','Tulare Lake','Sacramento River','Sacramento River','South Coast','South Coast','Sacramento River','North Coast','South Coast','Tulare Lake','Sacramento River','South Coast','Sacramento River','South Coast','Sacramento River','Central Coast','South Coast','South Coast','South Coast','South Lahontan','San Francisco Bay','South Coast','South Coast','Sacramento River','South Coast','South Coast','South Coast','Central Coast','South Coast','South Coast','South Coast','South Coast','South Coast','South Coast','South Coast','Central Coast','San Francisco Bay','Central Coast','San Joaquin River','Central Coast','Tulare Lake','South Coast','San Francisco Bay','North Coast','South Coast','South Coast','South Lahontan','Colorado River','San Francisco Bay','Central Coast','North Coast','North Coast','South Coast','South Coast','Colorado River','South Lahontan','Colorado River','South Coast','South Coast','Colorado River','South Coast','Tulare Lake','Tulare Lake','South Coast','South Coast','South Coast','South Coast','South Lahontan','South Coast','South Coast','South Coast','Tulare Lake','South Coast','San Joaquin River','South Coast','Tulare Lake','Sacramento River','South Coast','Sacramento River','San Francisco Bay','San Joaquin River','San Joaquin River','South Coast','South Coast','Central Coast','South Coast','South Coast','South Lahontan','South Coast','San Joaquin River','South Coast','San Joaquin River','South Lahontan','South Coast','San Joaquin River','San Francisco Bay','Central Coast','San Francisco Bay','North Coast','San Francisco Bay','San Joaquin River','South Coast','San Francisco Bay','San Francisco Bay','San Francisco Bay','Colorado River','San Joaquin River','South Coast','South Coast','South Coast','Central Coast','South Coast','Central Coast','Central Coast','South Coast','San Joaquin River','San Francisco Bay','Colorado River','San Francisco Bay','Sacramento River','South Coast','South Coast','Central Coast','South Coast','San Francisco Bay','San Francisco Bay','North Lahontan','South Coast','San Joaquin River','South Coast','Tulare Lake','Sacramento River','South Coast','South Coast','South Coast','Sacramento River','South Coast','South Coast','South Coast','South Coast','South Lahontan','San Francisco Bay','Sacramento River','South Coast','South Coast','South Coast','Central Coast','San Joaquin River','South Coast','San Francisco Bay','South Lahontan','South Coast','South Coast','Tulare Lake','Central Coast','San Francisco Bay','Sacramento River','San Francisco Bay','South Coast','South Coast','Tulare Lake','South Coast','South Lahontan','South Coast','South Coast','South Coast','Sacramento River','Sacramento River','South Coast','San Francisco Bay','Tulare Lake','South Coast','South Coast','Sacramento River','Sacramento River','San Joaquin River','San Joaquin River','South Coast','South Coast','North Coast','South Lahontan','Sacramento River','South Coast','South Coast','South Coast','Sacramento River','Sacramento River','Sacramento River','South Coast','South Lahontan','South Coast','San Francisco Bay','South Coast','South Coast','South Coast','South Coast','South Coast','San Francisco Bay','South Coast','South Coast','South Coast','South Coast','San Francisco Bay','San Francisco Bay','South Coast','Sacramento River','Central Coast','Central Coast','Tulare Lake','South Coast','Central Coast','San Francisco Bay','Central Coast','South Coast','South Coast','South Coast','Central Coast','South Coast','South Coast','North Coast','Central Coast','South Coast','Tulare Lake','South Coast','Central Coast','San Francisco Bay','Central Coast','South Coast','Sacramento River','South Coast','South Coast','North Lahontan','San Joaquin River','South Coast','South Coast','San Francisco Bay','South Coast','Central Coast','San Francisco Bay','North Lahontan','South Coast','North Coast','North Lahontan','Tulare Lake','South Coast','South Coast','South Coast','San Joaquin River','South Coast','North Lahontan','Tulare Lake','San Joaquin River','San Joaquin River','South Coast','Colorado River','North Coast','South Coast','Sacramento River','South Coast','South Coast','San Francisco Bay','South Coast','South Coast','South Coast','San Francisco Bay','Tulare Lake','South Coast','South Coast','South Coast','South Lahontan','South Coast','South Coast','Tulare Lake','Central Coast','Tulare Lake','Sacramento River','South Coast','San Francisco Bay','South Coast','South Coast','South Coast','North Coast','Sacramento River','South Coast','North Coast','Sacramento River','South Coast'];

var my_data = [["names",'Alameda County Water District','Alco Water Service','Alhambra  City of','Amador Water Agency','American Canyon City of','Anaheim  City of','Anderson City of','Antioch  City of','Apple Valley Ranchos Water Company','Arcadia  City of','Arcata  City of','Arroyo Grande  City of','Arvin Community Services District','Atascadero Mutual Water Company','Atwater  City of','Azusa  City of','Bakersfield  City of','Bakman Water Company','Banning  City of','Beaumont-Cherry Valley Water District','Bella Vista Water District','Bellflower-Somerset Mutual Water Company','Benicia  City of','Beverly Hills  City of','Big Bear City Community Services District','Blythe  City of','Brawley  City of','Brea  City of','Brentwood  City of','Buena Park  City of','Burbank  City of','Burlingame  City of','Calaveras County Water District','Calexico  City of','California City  City of','California Water Service Company Antelope Valley','California Water Service Company Bakersfield','California Water Service Company Bear Gulch','California Water Service Company Chico District','California Water Service Company Dixon City of','California Water Service Company Dominguez','California Water Service Company East Los Angeles','California Water Service Company Hermosa/Redondo','California Water Service Company Kern River Valley','California Water Service Company King City','California Water Service Company Livermore','California Water Service Company Los Altos/Suburban','California Water Service Company Marysville','California Water Service Company Mid Peninsula','California Water Service Company Oroville','California Water Service Company Palos Verdes','California Water Service Company Redwood Valley','California Water Service Company Salinas District','California Water Service Company Selma','California Water Service Company South San Francisco','California Water Service Company Stockton','California Water Service Company Visalia','California Water Service Company Westlake','California Water Service Company Willows','California-American Water Company Los Angeles District','California-American Water Company Monterey District','California-American Water Company Sacramento District','California-American Water Company San Diego District','California-American Water Ventura District','Camarillo  City of','Cambria Community Services District','Camrosa Water District','Carlsbad Municipal Water District','Carmichael Water District','Carpinteria Valley Water District','Casitas Municipal Water District','Castaic Lake Water Agency Santa Clarita Water Division','Ceres  City of','Cerritos  City of','Chino  City of','Chino Hills  City of','Citrus Heights Water District','City of Big Bear Lake Dept of Water & Power','City of Newman Water Department','Clovis  City of','Coachella  City of','Coachella Valley Water District','Coalinga City of','Coastside County Water District',"'Colton, City of'",'Compton  City of','Contra Costa Water District','Corcoran City of','Corona  City of','Covina  City of ','Crescent City  City of','Crescenta Valley Water District','Crestline Village Water District','Cucamonga Valley Water District','Daly City  City of','Davis  City of','Del Oro Water Company','Delano  City of','Desert Water Agency','Diablo Water District','Dinuba  City of','Discovery Bay Community Services District','Downey  City of','Dublin San Ramon Services District','East Bay Municipal Utilities District','East Niles Community Service District','East Orange County Water District','East Palo Alto City of','East Valley Water District','Eastern Municipal Water District','El Centro  City of','El Dorado Irrigation District','El Monte  City of','El Segundo  City of','El Toro Water District','Elk Grove Water Service','Elsinore Valley Municipal Water District','Escondido  City of','Estero Municipal Improvement District','Eureka  City of','Exeter  City of','Fair Oaks Water District','Fairfield  City of','Fallbrook Public Utility District','Fillmore  City of','Folsom  City of','Fortuna  City of','Fountain Valley  City of','Fresno  City of','Fruitridge Vista Water Company','Fullerton  City of','Galt  City of','Garden Grove  City of','Georgetown Divide Public Utilities District','Gilroy  City of','Glendale  City of','Glendora  City of','Golden State Water Company Artesia','Golden State Water Company Barstow','Golden State Water Company Bay Point','Golden State Water Company Bell-Bell Gardens','Golden State Water Company Claremont','Golden State Water Company Cordova','Golden State Water Company Culver City','Golden State Water Company Florence Graham','Golden State Water Company Norwalk','Golden State Water Company Orcutt','Golden State Water Company Placentia','Golden State Water Company S Arcadia','Golden State Water Company S San Gabriel','Golden State Water Company San Dimas','Golden State Water Company Simi Valley','Golden State Water Company Southwest','Golden State Water Company West Orange','Goleta Water District','Great Oaks Water Company Incorporated','Greenfield City of','Groveland Community Services District','Grover Beach  City of','Hanford  City of','Hawthorne  City of','Hayward  City of','Healdsburg  City of','Helix Water District','Hemet  City of','Hesperia Water District City of','Hi-Desert Water District','Hillsborough  Town of','Hollister  City of','Humboldt Bay Municipal Water District','Humboldt Community Service District','Huntington Beach  City of','Huntington Park  City of',"'Imperial, City of'",'Indian Wells Valley Water District','Indio  City of','Inglewood  City of','Irvine Ranch Water District','Joshua Basin Water District','Jurupa Community Service District',"'Kerman, City of'","'Kingsburg, City of'",'La Habra  City of Public Works','La Palma  City of','La Verne  City of','Laguna Beach County Water District','Lake Arrowhead Community Services District','Lake Hemet Municipal Water District','Lakeside Water District','Lakewood  City of','Lamont Public Utility District','Las Virgenes Municipal Water District','Lathrop City of','Lee Lake Water District','Lemoore  City of','Lincoln  City of','Lincoln Avenue Water Company','Linda County Water District','Livermore  City of Division of Water Resources','Livingston  City of','Lodi  City of Public Works Department','Loma Linda  City of','Lomita  City of','Lompoc  City of','Long Beach  City of','Los Angeles County Public Works Waterworks District 29','Los Angeles County Public Works Waterworks District 40','Los Angeles Department of Water and Power','Los Banos City of','Lynwood  City of','Madera  City of','Mammoth Community Water District','Manhattan Beach  City of','Manteca  City of','Marin Municipal Water District','Marina Coast Water District','Martinez  City of','McKinleyville Community Service District','Menlo Park  City of','Merced  City of','Mesa Water District','Mid-Peninsula Water District','Millbrae  City of','Milpitas  City of','Mission Springs Water District','Modesto City of','Monrovia  City of','Monte Vista Water District','Montebello Land and Water Company','Montecito Water District','Monterey Park  City of','Morgan Hill  City of','Morro Bay  City of','Moulton Niguel Water District','Mountain House Community Services District','Mountain View  City of','Myoma Dunes Mutual Water Company','Napa  City of','Nevada Irrigation District','Newhall County Water District','Newport Beach  City of','Nipomo Community Services District','Norco  City of','North Coast County Water District','North Marin Water District','North Tahoe Public Utility District','Norwalk City of','Oakdale  City of','Oceanside  City of','Oildale Mutual Water Company','Olivehurst Public Utility District','Olivenhain Municipal Water District','Ontario  City of','Orange  City of','Orange Vale Water Company','Orchard Dale Water District','Otay Water District','Oxnard  City of','Padre Dam Municipal Water District','Palmdale Water District','Palo Alto  City of','Paradise Irrigation District','Paramount  City of','Park Water Company','Pasadena  City of','Paso Robles  City of','Patterson  City of','Perris City of','Petaluma  City of','Phelan Pinon Hills Community Services District','Pico Rivera  City of','Pico Water District','Pinedale County Water District','Pismo Beach  City of','Pittsburg  City of','Placer County Water Agency','Pleasanton  City of','Pomona  City of','Port Hueneme  City of','Porterville  City of','Poway  City of','Quartz Hill Water District','Rainbow Municipal Water District','Ramona Municipal Water District','Rancho California Water District','Red Bluff  City of','Redding  City of','Redlands  City of','Redwood City  City of','Reedley  City of','Rialto  City of','Rincon Del Diablo Municipal Water District','Rio Linda - Elverta Community Water District','Rio Vista city of','Ripon  City of','Riverbank  City of','Riverside  City of','Riverside Highland Water Company','Rohnert Park  City of','Rosamond Community Service District','Roseville  City of','Rowland Water District','Rubidoux Community Service District','Rubio Canyon Land and Water Association','Sacramento  City of','Sacramento County Water Agency','Sacramento Suburban Water District','San Bernardino  City of','San Bernardino County Service Area 64','San Bernardino County Service Area 70J','San Bruno  City of','San Buenaventura  City of','San Clemente  City of','San Diego  City of','San Dieguito Water District','San Fernando  City of','San Francisco Public Utilities Commission','San Gabriel County Water District','San Gabriel Valley Fontana Water Company','San Gabriel Valley Water Company','San Jacinto  City of','San Jose  City of','San Jose Water Company','San Juan Capistrano  City of','San Juan Water District','San Lorenzo Valley Water District','San Luis Obispo  City of','Sanger  City of','Santa Ana  City of','Santa Barbara  City of','Santa Clara  City of','Santa Cruz  City of','Santa Fe Irrigation District','Santa Fe Springs  City of','Santa Margarita Water District','Santa Maria  City of','Santa Monica  City of','Santa Paula  City of','Santa Rosa  City of',
'Scotts Valley Water District','Seal Beach  City of','Shafter  City of','Sierra Madre  City of','Soledad, City of','Sonoma  City of','Soquel Creek Water District','South Coast Water District','South Feather Water and Power Agency','South Gate  City of','South Pasadena  City of','South Tahoe Public Utilities District','Stockton  City of','Suburban Water Systems San Jose Hills','Suburban Water Systems Whittier/La Mirada','Suisun-Solano Water Authority','Sunny Slope Water Company','Sunnyslope County Water District','Sunnyvale  City of','Susanville  City of','Sweetwater Authority','Sweetwater Springs Water District','Tahoe City Public Utilities District',"'Tehachapi, City of'",'Thousand Oaks  City of','Torrance  City of','Trabuco Canyon Water District','Tracy  City of','Triunfo Sanitation District / Oak Park Water Service','Truckee-Donner Public Utilities District','Tulare City of','Tuolumne Utilities District','Turlock  City of','Tustin  City of','Twentynine Palms Water District','Ukiah  City of','Upland  City of','Vacaville  City of','Valencia Water Company','Vallecitos Water District','Vallejo  City of','Valley Center Municipal Water District','Valley County Water District','Valley Water Company','Valley of the Moon Water District','Vaughn Water Company','Ventura County Waterworks District No 1','Ventura County Waterworks District No. 8','Vernon  City of','Victorville Water District','Vista Irrigation District','Walnut Valley Water District','Wasco  City of','Watsonville  City of','West Kern Water District','West Sacramento  City of','West Valley Water District','Westborough Water District','Western Municipal Water District of Riverside','Westminster  City of','Whittier  City of','Windsor Town of','Woodland  City of','Yorba Linda Water District','Yreka City of','Yuba City  City of','Yucaipa Valley Water District'],
["conservation_percent_15",0.35,0.22,0.27,0.33,0.27,0.26,0.27,0.36,0.32,0.29,0.01,0.37,0.35,0.35,0.36,0.24,0.32,0.34,0.32,0.26,0.55,0.20,0.36,0.20,0.24,0.15,0.36,0.18,0.44,0.24,0.27,0.34,0.37,0.19,0.20,0.42,0.34,0.38,0.43,0.35,0.13,0.17,0.19,0.18,0.22,0.46,0.39,0.32,0.29,0.30,0.31,0.38,0.29,0.41,0.24,0.27,0.26,0.34,0.36,0.30,0.17,0.40,0.28,0.27,0.24,0.42,0.26,0.26,0.37,0.34,0.34,0.35,0.26,0.26,0.24,0.26,0.41,0.20,0.28,0.33,0.21,0.30,0.35,0.23,0.20,0.15,0.40,0.33,0.23,0.25,0.17,0.30,0.23,0.30,0.13,0.31,0.44,0.24,0.33,0.35,0.36,0.40,0.23,0.43,0.30,0.32,0.39,0.21,0.33,0.20,0.19,0.32,0.16,0.05,0.25,0.39,0.26,0.35,0.18,0.13,0.34,0.39,0.27,0.24,0.28,0.33,0.22,0.26,0.30,0.38,0.25,0.37,0.23,0.37,0.34,0.25,0.36,0.17,0.28,0.30,0.16,0.45,0.38,0.19,0.13,0.21,0.40,0.31,0.30,0.14,0.35,0.37,0.15,0.25,0.29,0.36,0.26,0.35,0.35,0.10,0.11,0.34,0.28,0.28,0.26,0.26,0.10,0.44,0.26,-0.07,0.11,0.25,0.15,0.18,0.27,0.24,0.18,0.18,0.26,0.26,0.27,0.39,0.25,0.26,0.32,0.22,0.34,0.39,0.32,0.29,0.29,0.34,0.34,0.34,0.20,0.37,0.32,0.39,0.40,0.10,0.30,0.24,0.22,0.28,0.19,0.24,0.39,0.18,0.26,0.16,0.32,0.41,0.23,0.32,0.23,0.33,0.36,0.21,0.48,0.43,0.25,0.32,0.28,0.27,0.18,0.32,0.24,0.30,0.19,0.47,0.18,0.37,0.18,0.23,0.33,0.35,0.33,0.27,0.37,0.31,0.23,0.35,0.26,0.33,0.35,0.29,0.18,0.43,0.26,0.30,0.40,0.34,0.23,0.28,0.41,0.20,0.27,0.20,0.33,0.29,0.34,0.46,0.21,0.20,0.24,0.34,0.30,0.26,0.28,0.17,0.21,0.24,0.28,0.26,0.26,0.25,0.45,0.26,0.21,0.35,0.37,0.39,0.38,0.33,0.30,0.33,0.32,0.23,0.32,0.24,0.21,0.34,0.39,0.34,0.30,0.11,0.26,0.34,0.19,0.31,0.39,0.18,0.21,0.31,0.34,0.40,0.36,0.31,0.34,0.31,0.26,0.25,0.28,0.25,0.22,0.23,0.16,0.25,0.30,0.37,0.34,0.34,0.36,0.27,0.41,0.29,0.24,0.25,0.20,0.38,0.27,0.31,0.41,0.26,0.29,0.18,0.22,0.31,0.28,0.29,0.22,0.31,0.24,0.21,0.35,0.33,0.32,0.25,0.12,0.30,0.24,0.34,0.27,0.26,0.28,0.29,0.37,0.36,0.25,0.26,0.28,0.37,0.31,0.32,0.24,0.33,0.33,0.36,0.35,0.27,0.40,0.27,0.29,0.17,0.30,0.32,0.37,0.37,0.31,0.25,0.40,0.25,0.31,0.32,0.30,0.28,0.30,0.03,0.29,0.29,0.29,0.26,0.25,0.23,0.40,0.22,0.23,0.28,0.20,0.21,0.26,0.36,0.41,0.21,0.32,0.25],
["conservation_percent_16",0.25,0.23,0.27,0.19,0.28,0.16,0.21,0.25,0.28,0.24,-0.01,0.36,0.16,0.23,0.22,0.19,0.21,0.34,0.21,0.12,0.37,0.16,0.38,0.20,0.15,0.20,0.28,0.17,0.29,0.19,0.24,0.27,0.17,-0.01,0.18,0.39,0.24,0.25,0.32,0.30,0.12,0.15,0.17,0.16,0.32,0.29,0.24,0.21,0.20,0.26,0.20,0.33,0.26,0.38,0.23,0.19,0.19,0.25,0.31,0.22,0.15,0.27,0.12,0.23,0.19,0.35,0.17,0.17,0.23,0.27,0.09,0.18,0.24,0.16,0.16,0.16,0.23,0.11,0.16,0.20,0.14,0.22,0.24,0.14,0.10,0.16,0.29,0.28,0.14,0.17,0.14,0.21,0.09,0.19,0.08,0.20,0.40,0.19,0.24,0.22,0.30,0.20,0.17,0.31,0.18,0.20,0.29,0.15,0.24,0.16,0.13,0.15,0.10,0.05,0.26,0.22,0.11,0.25,0.08,0.14,0.26,0.22,0.13,0.16,0.23,0.11,0.02,0.21,0.23,0.25,0.19,0.28,0.15,0.21,0.25,0.19,0.22,0.13,0.24,0.21,0.13,0.27,0.21,0.14,0.09,0.09,0.29,0.19,0.25,0.14,0.22,0.22,0.12,0.18,0.28,0.28,0.16,0.22,0.32,0.19,0.12,0.25,0.19,0.18,0.20,0.17,0.01,0.27,0.17,-0.02,0.07,0.15,0.15,0.10,0.22,0.21,0.16,0.16,0.15,0.15,0.20,0.27,0.10,0.21,0.19,0.16,0.15,0.29,0.22,0.19,0.22,0.16,0.20,0.19,0.20,0.17,0.22,0.23,0.24,0.08,0.20,0.14,0.18,0.25,0.14,0.11,0.23,0.14,0.22,0.19,0.22,0.31,0.17,0.23,0.12,0.35,0.19,0.14,0.40,0.36,0.14,0.23,0.20,0.22,0.19,0.25,0.13,0.22,0.17,0.47,0.17,0.22,0.23,0.16,0.16,0.27,0.22,0.17,0.19,0.18,0.19,0.28,0.16,0.38,0.14,0.14,0.12,0.24,0.19,0.22,0.25,0.17,0.15,0.18,0.26,0.06,0.16,0.13,0.20,0.22,0.19,0.34,0.07,0.20,0.19,0.23,0.37,0.28,0.24,0.09,0.16,0.20,0.27,0.21,0.18,0.17,0.30,0.20,0.18,0.24,0.26,0.28,0.48,0.20,0.20,0.19,0.21,0.20,0.21,0.19,0.17,0.28,0.25,0.19,0.29,0.11,0.15,0.23,0.15,0.21,0.19,0.15,0.16,0.18,0.25,0.18,0.21,0.22,0.24,0.21,0.21,0.22,0.24,0.15,0.18,0.19,0.12,0.18,0.22,0.32,0.30,0.27,0.28,0.20,0.13,0.15,0.22,0.12,0.16,0.39,0.22,0.22,0.18,0.23,0.16,0.18,0.19,0.22,0.18,0.22,0.16,0.20,0.15,0.17,0.16,0.27,0.26,0.11,0.09,0.27,0.09,0.20,0.22,0.19,0.25,0.21,0.23,0.22,0.16,0.19,0.21,0.27,0.22,0.23,0.09,0.20,0.20,0.27,0.17,0.17,0.22,0.18,0.21,0.09,0.24,0.21,0.24,0.22,0.17,0.15,0.31,0.20,0.14,0.23,0.17,0.23,0.21,0.06,0.20,0.14,0.19,0.37,0.18,0.12,0.23,0.15,0.22,0.14,0.17,0.13,0.15,0.24,0.28,0.18,0.26,0.07],
];

var my_chart_parameters = {
	"bindto": '#chart2',
	"data": {
  	"x": "conservation_percent_15",
    "y": "conservation_percent_16",
  	"columns": my_data,
    "type": "scatter",
    "colors": {
    	"conservation_percent_16": "#ff0000",
      },
    "selection": {
    	"enabled": false
    },
	},
  "tooltip": {
  	"show": true,
    "format": {
    	"title": function(value) { 
        if (my_data[1].indexOf(value) == -1) {
          var index = my_data[3].indexOf(value);
          return agency_names[index - 1];
        } else {
          var index = my_data[1].indexOf(value);
          return agency_names[index - 1];
        }
      }
		}
		},  
  "legend": {
  	"show": true
  },
	"axis": {
		"x": {
    	"label": "Conservation in 2015",
      "min": 0,
      "max": 0.6,
			"tick": {
      	"values": [0.1, 0.2, 0.3, 0.4, 0.5, 0.6],
       }
		},
    "y": {
    	"label": "Conservation in 2016",
      "min":0,
      "max":0.6,
    }
	},
  "point": {
  	"r": 5,
    "show": false,
    "focus": {
    	"expand": {
      	"r": 10,
        "enabled": true
      }
    }
  }
};

var mandate_chart = c3.generate(my_chart_parameters);

var slide = function(){
	mandate_chart.data.names({
  	  conservation_percent_15: 'Summer 2015 conservation',
      conservation_percent_16: 'Summer 2016 conservation'
  })
	mandate_chart.load({
  	columns:[
 ["1:1 line",-0.07,0.01,0.03,0.05,0.1,0.1,0.1,0.11,0.11,0.11,0.12,0.13,0.13,0.13,0.13,0.14,0.15,0.15,0.15,0.15,0.16,0.16,0.16,0.16,0.17,0.17,0.17,0.17,0.17,0.17,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.18,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.21,0.22,0.22,0.22,0.22,0.22,0.22,0.22,0.22,0.22,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.23,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.24,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.26,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.27,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.29,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.34,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.36,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.37,0.38,0.38,0.38,0.38,0.38,0.38,0.39,0.39,0.39,0.39,0.39,0.39,0.39,0.39,0.39,0.39,0.39,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.41,0.41,0.41,0.41,0.41,0.41,0.41,0.42,0.42,0.43,0.43,0.43,0.43,0.44,0.44,0.44,0.45,0.45,0.46,0.46,0.47,0.48,0.55]
    ],
    type: "line",
  });
  document.getElementById("message2").innerHTML = "During June-August 2016 many utilities lowered their conservation levels compared to the summer of 2015 when the State mandate was in effect. In this interactive plot, dots under the 1:1 line represent utilities with higher water use in summer 2016 compared to summer 2015, and dots above the line represent utilities that surpassed their summer 2015 conservation levels "
};

slide();